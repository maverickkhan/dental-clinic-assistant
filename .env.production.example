# Production Environment Variables Template
# Copy values from deployment services after setup

# =============================================================================
# BACKEND SERVICE (Render)
# =============================================================================

NODE_ENV=production
PORT=8080

# Database - Get from Supabase (Settings → Database → Connection string)
# Use "Connection pooling" mode with port 6543
DATABASE_URL=postgresql://postgres.xxxxx:PASSWORD@aws-0-us-east-1.pooler.supabase.com:6543/postgres

# JWT Configuration
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-256-bit-random-secret-key-here
JWT_EXPIRES_IN=7d

# Google Gemini API
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_MODEL=gemini-2.5-flash

# Service URLs - Update after deployment
AI_SERVICE_URL=https://dental-clinic-ai.onrender.com
FRONTEND_URL=https://dental-clinic-assistant.vercel.app

# =============================================================================
# AI SERVICE (Render)
# =============================================================================

# Google Gemini API (same key as backend)
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_MODEL=gemini-2.5-flash

# Port (Render auto-assigns, default 8001)
PORT=8001

# Service URLs
BACKEND_URL=https://dental-clinic-backend.onrender.com
FRONTEND_URL=https://dental-clinic-assistant.vercel.app

# =============================================================================
# FRONTEND (Vercel)
# =============================================================================

# Backend API URL - Get from Render after backend deployment
VITE_API_BASE_URL=https://dental-clinic-backend.onrender.com

# =============================================================================
# DEPLOYMENT CHECKLIST
# =============================================================================
#
# 1. Deploy Supabase database first
#    → Copy DATABASE_URL (connection pooling mode)
#    → Run: npx prisma migrate deploy
#
# 2. Deploy Render backend service
#    → Set all backend environment variables above
#    → Copy backend URL after deployment
#
# 3. Deploy Render AI service
#    → Set AI service environment variables
#    → Update BACKEND_URL from step 2
#    → Copy AI service URL
#
# 4. Update backend AI_SERVICE_URL
#    → Use URL from step 3
#    → Backend will auto-redeploy
#
# 5. Deploy Vercel frontend
#    → Set VITE_API_BASE_URL from step 2
#    → Copy frontend URL after deployment
#
# 6. Update FRONTEND_URL in both backend and AI service
#    → Use URL from step 5
#    → Both services will auto-redeploy
#
# 7. Test end-to-end
#    → Open frontend URL
#    → Register new user
#    → Create patient
#    → Test AI chat
#
# =============================================================================
